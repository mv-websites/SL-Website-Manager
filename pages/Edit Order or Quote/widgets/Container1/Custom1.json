{
  "backgroundColor": "#FFFFFF",
  "borderColor": "#E0DEDE",
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": "1",
  "bottomRow": 89,
  "boxShadow": "none",
  "defaultModel": "{{Retrieve_an_order.data}}",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "borderRadius"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicPropertyPathList": [],
  "dynamicTriggerPathList": [
    {
      "key": "onResetClick"
    }
  ],
  "events": [
    "onResetClick"
  ],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "wc1xqgug4s",
  "leftColumn": 1,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 75,
  "mobileLeftColumn": 18,
  "mobileRightColumn": 41,
  "mobileTopRow": 45,
  "needsErrorInfo": false,
  "onResetClick": "{{showAlert('Successfully reset!!', '');}}",
  "originalBottomRow": 89,
  "originalTopRow": 41,
  "parentColumnSpace": 30.25,
  "parentId": "op43a4znbo",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 63,
  "srcDoc": {
    "css": ".app {\n  height: calc(var(--appsmith-ui-height) * 1px);\n  width: calc(var(--appsmith-ui-width) * 1px);\n  justify-content: center;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  padding: 29px 25px;\n  box-sizing: border-box;\n  font-family: system-ui;\n  background: #fff;\n}\n\n.tip-container {\n  margin-bottom: 20px;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.tip-container h2 {\n  margin-bottom: 20px;\n  font-size: 16px;\n  font-weight: 700;\n}\n\n.tip-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 9px;\n}\n\n.tip-header div {\n  color: #999;\n}\n\n.content {\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.button-container {\n  text-align: right;\n  padding-top: 4px;\n}\n\n.button-container button {\n  margin: 0 10px;\n  cursor: pointer;\n  border-radius: var(--appsmith-theme-borderRadius);\n  padding: 6px 16px;\n  background: none;\n  height: auto;\n  transition: all 0.3s ease;\n}\n\n.button-container button.primary {\n  background: var(--appsmith-theme-primaryColor) !important;\n  color: #fff;\n  border: 1px solid var(--appsmith-theme-primaryColor) !important;\n}\n\n.button-container button.reset {\n  border: 1px solid #999;\n  color: #999;\n  outline: none;\n  box-shadow: none;\n}\n\n.button-container button.reset:hover:not(:disabled) {\n  color: var(--appsmith-theme-primaryColor);\n  border-color: var(--appsmith-theme-primaryColor);\n}\n\n.button-container button.reset:disabled {\n  cursor: default;\n}",
    "html": "<!-- no need to write html, head, body tags, it is handled by the widget -->\n<div id=\"root\"></div>\n",
    "js": "import React, { useEffect, useState } from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\nfunction OrderLineItems({\n  order\n}) {\n  // if (!order?.line_items?.length) return null;\n  const [localOrder, setLocalOrder] = useState(order);\n  useEffect(() => {\n    setLocalOrder(order);\n  }, [order]);\n  if (!localOrder?.line_items?.length) return null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.header\n  }, /*#__PURE__*/React.createElement(\"div\", null, \"Product\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"right\"\n    }\n  }, \"Price\")), localOrder.line_items.map(item => {\n    const productUrl = item.product_id ? `https://service-line.co.uk/?p=${item.product_id}` : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item.id,\n      style: styles.row\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.productCol\n    }, item.image?.src && /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image.src,\n      alt: item.name,\n      style: styles.image\n    }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.productName\n    }, item.name), productUrl && /*#__PURE__*/React.createElement(\"a\", {\n      href: productUrl,\n      target: \"_blank\",\n      rel: \"noreferrer\",\n      style: styles.link\n    }, \"View on Website\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.meta\n    }, item.sku && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"SKU:\"), \" \", item.sku), item.meta_data?.filter(meta => !meta.key.startsWith(\"_\")).map(meta => {\n      let value = meta.display_value;\n\n      // Ignore if not a string\n      if (typeof value !== \"string\" || !value.trim()) return null;\n\n      // Ignore JSON strings\n      try {\n        const parsed = JSON.parse(value);\n        // If parsing succeeds and result is object/array, ignore it\n        if (typeof parsed === \"object\") return null;\n      } catch {\n        // If parsing fails, it's a plain string → OK\n      }\n\n      // Handle objects safely\n      if (typeof value === \"object\") {\n        // If it's an array, join it\n        if (Array.isArray(value)) {\n          value = value.join(\", \");\n        } else {\n          // Otherwise stringify object\n          value = JSON.stringify(value);\n        }\n      }\n      if (!value) return null;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: meta.id\n      }, /*#__PURE__*/React.createElement(\"strong\", null, meta.display_key, \":\"), \" \", value);\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.qtyCol\n    }, item.quantity), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.priceCol\n    }, \"\\xA3\", Number(item.total).toFixed(2)));\n  }));\n}\nconst styles = {\n  container: {\n    fontFamily: \"Arial, sans-serif\",\n    fontSize: \"14px\",\n    color: \"#000\"\n  },\n  header: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 120px 150px\",\n    background: \"#000\",\n    color: \"#fff\",\n    padding: \"10px 16px\",\n    fontWeight: \"bold\"\n  },\n  row: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 120px 150px\",\n    padding: \"16px\",\n    borderBottom: \"1px solid #e5e5e5\",\n    alignItems: \"flex-start\"\n  },\n  productCol: {\n    display: \"flex\",\n    gap: \"16px\"\n  },\n  image: {\n    width: \"80px\",\n    height: \"auto\",\n    objectFit: \"contain\"\n  },\n  productName: {\n    fontWeight: \"bold\",\n    marginBottom: \"6px\"\n  },\n  link: {\n    color: \"#1a73e8\",\n    textDecoration: \"none\",\n    display: \"inline-block\",\n    marginBottom: \"10px\"\n  },\n  meta: {\n    fontSize: \"13px\",\n    lineHeight: \"1.6\"\n  },\n  qtyCol: {\n    textAlign: \"center\",\n    fontSize: \"15px\"\n  },\n  priceCol: {\n    textAlign: \"right\",\n    fontWeight: \"bold\",\n    fontSize: \"15px\"\n  }\n};\nfunction App() {\n  return /*#__PURE__*/React.createElement(OrderLineItems, {\n    order: appsmith.model\n  });\n}\nappsmith.onReady(() => {\n  ReactDOM.render(/*#__PURE__*/React.createElement(App, null), document.getElementById(\"root\"));\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 41,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ".app {\n  height: calc(var(--appsmith-ui-height) * 1px);\n  width: calc(var(--appsmith-ui-width) * 1px);\n  justify-content: center;\n  border-radius: var(--appsmith-theme-borderRadius);\n  box-shadow: var(--appsmith-theme-boxShadow);\n  padding: 29px 25px;\n  box-sizing: border-box;\n  font-family: system-ui;\n  background: #fff;\n}\n\n.tip-container {\n  margin-bottom: 20px;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.tip-container h2 {\n  margin-bottom: 20px;\n  font-size: 16px;\n  font-weight: 700;\n}\n\n.tip-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  margin-bottom: 9px;\n}\n\n.tip-header div {\n  color: #999;\n}\n\n.content {\n  white-space: pre-wrap;\n  word-break: break-word;\n  font-size: 14px;\n  line-height: 1.571429;\n}\n\n.button-container {\n  text-align: right;\n  padding-top: 4px;\n}\n\n.button-container button {\n  margin: 0 10px;\n  cursor: pointer;\n  border-radius: var(--appsmith-theme-borderRadius);\n  padding: 6px 16px;\n  background: none;\n  height: auto;\n  transition: all 0.3s ease;\n}\n\n.button-container button.primary {\n  background: var(--appsmith-theme-primaryColor) !important;\n  color: #fff;\n  border: 1px solid var(--appsmith-theme-primaryColor) !important;\n}\n\n.button-container button.reset {\n  border: 1px solid #999;\n  color: #999;\n  outline: none;\n  box-shadow: none;\n}\n\n.button-container button.reset:hover:not(:disabled) {\n  color: var(--appsmith-theme-primaryColor);\n  border-color: var(--appsmith-theme-primaryColor);\n}\n\n.button-container button.reset:disabled {\n  cursor: default;\n}",
    "html": "<!-- no need to write html, head, body tags, it is handled by the widget -->\n<div id=\"root\"></div>\n",
    "js": "import React, { useEffect, useState }  from \"https://esm.sh/react@18.2.0\";\nimport ReactDOM from \"https://esm.sh/react-dom@18.2.0\";\n\nfunction OrderLineItems({ order }) {\n  // if (!order?.line_items?.length) return null;\n\tconst [localOrder, setLocalOrder] = useState(order);\n\n  useEffect(() => {\n    setLocalOrder(order);\n  }, [order]);\n\n  if (!localOrder?.line_items?.length) return null;\n\n  return (\n    <div style={styles.container}>\n      {/* Header */}\n      <div style={styles.header}>\n        <div>Product</div>\n        <div style={{ textAlign: \"center\" }}>Quantity</div>\n        <div style={{ textAlign: \"right\" }}>Price</div>\n      </div>\n\n      {/* Line Items */}\n      {localOrder.line_items.map((item) => {\n        const productUrl = item.product_id\n          ? `https://service-line.co.uk/?p=${item.product_id}`\n          : null;\n\n        return (\n          <div key={item.id} style={styles.row}>\n            {/* Product Column */}\n            <div style={styles.productCol}>\n              {item.image?.src && (\n                <img\n                  src={item.image.src}\n                  alt={item.name}\n                  style={styles.image}\n                />\n              )}\n\n              <div>\n                <div style={styles.productName}>{item.name}</div>\n                {productUrl && (\n                  <a\n                    href={productUrl}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={styles.link}\n                  >\n                    View on Website\n                  </a>\n                )}\n\n                <div style={styles.meta}>\n                  {item.sku && (\n                    <div>\n                      <strong>SKU:</strong> {item.sku}\n                    </div>\n                  )}\n\n                  {item.meta_data\n\t\t\t\t\t\t\t\t\t\t?.filter((meta) => !meta.key.startsWith(\"_\"))\n\t\t\t\t\t\t\t\t\t\t.map((meta) => {\n\t\t\t\t\t\t\t\t\t\t\tlet value = meta.display_value;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t// Ignore if not a string\n\t\t\t\t\t\t\t\t\t\t\tif (typeof value !== \"string\" || !value.trim()) return null;\n\n\t\t\t\t\t\t\t\t\t\t\t// Ignore JSON strings\n\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\tconst parsed = JSON.parse(value);\n\t\t\t\t\t\t\t\t\t\t\t\t// If parsing succeeds and result is object/array, ignore it\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof parsed === \"object\") return null;\n\t\t\t\t\t\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\t\t\t\t\t\t// If parsing fails, it's a plain string → OK\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Handle objects safely\n\t\t\t\t\t\t\t\t\t\t\tif (typeof value === \"object\") {\n\t\t\t\t\t\t\t\t\t\t\t\t// If it's an array, join it\n\t\t\t\t\t\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = value.join(\", \");\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Otherwise stringify object\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (!value) return null;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={meta.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<strong>{meta.display_key}:</strong> {value}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n                </div>\n              </div>\n            </div>\n\n            {/* Quantity */}\n            <div style={styles.qtyCol}>{item.quantity}</div>\n\n            {/* Price */}\n            <div style={styles.priceCol}>\n              £{Number(item.total).toFixed(2)}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    fontFamily: \"Arial, sans-serif\",\n    fontSize: \"14px\",\n    color: \"#000\",\n  },\n  header: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 120px 150px\",\n    background: \"#000\",\n    color: \"#fff\",\n    padding: \"10px 16px\",\n    fontWeight: \"bold\",\n  },\n  row: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 120px 150px\",\n    padding: \"16px\",\n    borderBottom: \"1px solid #e5e5e5\",\n    alignItems: \"flex-start\",\n  },\n  productCol: {\n    display: \"flex\",\n    gap: \"16px\",\n  },\n  image: {\n    width: \"80px\",\n    height: \"auto\",\n    objectFit: \"contain\",\n  },\n  productName: {\n    fontWeight: \"bold\",\n    marginBottom: \"6px\",\n  },\n  link: {\n    color: \"#1a73e8\",\n    textDecoration: \"none\",\n    display: \"inline-block\",\n    marginBottom: \"10px\",\n  },\n  meta: {\n    fontSize: \"13px\",\n    lineHeight: \"1.6\",\n  },\n  qtyCol: {\n    textAlign: \"center\",\n    fontSize: \"15px\",\n  },\n  priceCol: {\n    textAlign: \"right\",\n    fontWeight: \"bold\",\n    fontSize: \"15px\",\n  },\n};\n\nfunction App() {\n  return <OrderLineItems order={appsmith.model} />;\n}\n\nappsmith.onReady(() => {\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n});\n"
  },
  "version": 1,
  "widgetId": "c2ssoemxvt",
  "widgetName": "Custom1"
}